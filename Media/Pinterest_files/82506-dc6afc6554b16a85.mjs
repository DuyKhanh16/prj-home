"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82506],{865173:(e,t,i)=>{i.d(t,{Z:()=>n,v:()=>s});let s=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function n(){if(!s())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},951599:(e,t,i)=>{i.d(t,{Z:()=>u});var s=i(388011),n=i(245410),a=i(282802),l=i(868489),r=i(352865),o=i(185803),d=i(785893);function c({children:e,invite_code:t}){let{isAuthenticated:i,isBot:l,unauthId:d,userAgent:{platform:c,raw:p}}=(0,a.B)(),{logContextEvent:u}=(0,s.v)(),{checkExperiment:_}=(0,n.F)(),h=async(e,s,n)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:s}}),(0,o.Z)({isAuthenticated:i,checkExperiment:_,deeplinkUri:e,fallbackUrl:n,invite_code:t,logContextEvent:u,platform:c,redirectToLite:(0,r.Rp)({isBot:l,platform:c,userAgent:p}),unauthId:d,userAgent:p,within:s})};return e(h)}let p=e=>(0,d.jsx)(l.ty,{children:t=>(0,d.jsx)(c,{...e,invite_code:t})});p.displayName="DeepLinkNavigator";let u=p},266732:(e,t,i)=>{i.d(t,{Z:()=>z});var s=i(667294),n=i(782677),a=i(883119),l=i(690108),r=i(527386),o=i(536042),d=i(630089),c=i(756513),p=i(455788),u=i(657482),_=i(767874),h=i(700453),m=i(217861),v=i(785893);let g=({i18n:e,board:t,section:i})=>i?(0,d.nk)(e._('Saved to {{sectionName}} in {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{sectionName:i&&i.title,boardName:t.name}).join(""):(0,v.jsx)(a.xv,{color:"default",weight:"bold",children:(0,d.nk)(e._('Saved to {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{boardName:t.name})});function f({board:e,copyGroup:t,hideToast:i,i18n:n,isNativeAppInstalledContext:l,section:r}){let o=(0,d.nk)(n._('Explore your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop1', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{weight:"bold",children:n._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})});return l.isNativeAppInstalled||(o="enabled_copy2"===t?(0,d.nk)(n._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{weight:"bold",children:n._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})}):(0,d.nk)(n._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{weight:"bold",children:n._('Get app', 'RepinRequest.appUpsell.cta.text2', 'app upsell cta text for repin toast success')})})})),(0,v.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:"opacity .3s ease-in-out",marginBottom:"45px"}},position:"fixed",zIndex:m.k,children:(0,v.jsx)(a.xu,{marginStart:"auto",marginEnd:"auto",borderStyle:"shadow",rounding:4,dangerouslySetInlineStyle:{__style:{width:"calc(100% - 30px)"}},color:"light",children:(0,v.jsx)(h.Z,{within:"auth-save",children:({handleOpenApp:t})=>(0,v.jsx)(a.iP,{onTap:()=>{t()},children:(0,v.jsx)(a.xu,{padding:4,rounding:4,marginBottom:8,children:(0,v.jsxs)(a.kC,{children:[(0,v.jsx)(a.kC,{justifyContent:"center",direction:"column",children:(0,v.jsx)(a.xu,{marginStart:1,marginEnd:5,padding:1,rounding:2,color:"lightWash",children:(0,v.jsx)(a.xu,{rounding:7,position:"relative",children:(0,v.jsx)(_.Z,{size:28})})})}),(0,v.jsx)(a.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,v.jsx)(a.xu,{children:(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(a.xu,{marginBottom:1,children:(0,v.jsx)(g,{i18n:n,board:e,section:r})}),(0,v.jsx)(a.xv,{size:"300",children:o})]})})}),(0,v.jsx)(a.kC,{justifyContent:"center",direction:"column",children:(0,v.jsx)(a.xu,{marginStart:1,children:(0,v.jsx)(a.hU,{accessibilityLabel:n._('Cancel icon', 'app_upsell.dismissable.footer.cancel.accessibilityLabel', 'accessibility label for cancel icon to dismiss this app upsell'),icon:"cancel",onClick:({event:e})=>{i(),e.preventDefault(),e.stopPropagation()},size:"sm"})})})]})})})})})})}var x=i(348597),y=i(28557),w=i(907310);let b=e=>{let t=(0,v.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,v.jsx)(w.Z,{boardId:e})});return{duration:5e3,thumbnail:t}};var P=i(550140),A=i(802071);function j({boardId:e,hideToast:t,pinId:i,originalPinId:s}){let n=(0,o.ZP)(),l=(0,A.Z)();return(0,v.jsx)(P.ZP,{primaryAction:{accessibilityLabel:n._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${i}/repin/?isEditingPin=true&pinBoardId=${null!=e?e:""}&&isFromToast=true&&originalPinId=${null!=s?s:""}`,label:n._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:t,role:"link"},duration:5e3,onHide:t,text:(0,v.jsxs)(a.xv,{children:[(0,v.jsx)(a.xv,{inline:!0,children:n._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,v.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(a.rU,{display:"inlineBlock",href:l.isAuth?`/${l.username}/_saved`:"/",target:"self",underline:"hover",children:n._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,v.jsx)(a.JO,{accessibilityLabel:n._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var I=i(894788),k=i(255655);let S="RepinResource",T=({board:e,section:t})=>{let i=(0,o.ZP)(),n="quick_saves"===e.layout,l=n?i._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return t?(0,d.nk)(i._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(a.xv,{color:"default",children:i._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,v.jsx)(a.xv,{color:"default",weight:"bold",children:l})]})};class z{constructor({boardId:e,checkExperiment:t,isNativeAppInstalledContext:i,dispatch:s,history:a,isOneTapSave:l=!1,isQuickSave:r=!1,onSuccess:o,onUndo:d,originalPinId:c,pinId:p,section:u,showNewUserSavetoProfileAnimation:_=!1,showRepinToasts:h,trackingParams:m,userId:v,viewType:g,historyPush:f,suggestedBoardIds:y,savePinId:w,pinData:{trackingParams:b,viewParameter:P,pinnedToBoardId:A}}){var j,I;j="_getNormalizedResponse",I=e=>(0,n.Fv)(e.resource_response.data,k.Z[S]),j in this?Object.defineProperty(this,j,{value:I,enumerable:!0,configurable:!0,writable:!0}):this[j]=I,this.boardId=e,this.trackingParams=m,this.checkExperiment=t,this.isNativeAppInstalledContext=i,this.clientTrackingParams=(0,x.Z)(m.clientTrackingParams||"",b),this.dispatch=s,this.history=a,this.onSuccess=o,this.onUndo=d,this.originalPinId=c,this.pinId=p,this.pinnedToBoardId=m.pinnedToBoardId||(null!=A?A:""),this.showNewUserSavetoProfileAnimation=_,this.showRepinToasts=h,this.section=u,this.isOneTapSave=l,this.isQuickSave=r,this.userId=v,this.viewType=null!=g?g:3,this.historyPush=f,this.suggestedBoardIds=y,this.savePinId=w,this.pinViewParameter=P}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return l.Z.create(S,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){let{anyEnabled:t,group:i}=this.checkExperiment("mweb_auth_post_save_app_upsell"),s=this._createRepin();return s.then(s=>{this.onSuccess&&this.onSuccess();let n=s.resource_response.data,{board:l}=n,{isQuickSave:d,originalPinId:_,showNewUserSavetoProfileAnimation:h}=this,m=this._getNormalizedResponse(s);if(this.dispatch((0,c.XM)(S,this.resourceOptions,s,m)),this.savePinId(this.resourceOptions.pin_id,n.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){let e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(S,e,s,m)),this.savePinId(this.originalPinId||"",n.id)}this.dispatch((0,I.M)(n.id,l.id,this.section?this.section.id:void 0,this.userId));let{showRepinToasts:g}=this;return g&&g(({hideToast:e})=>{var s;if(d&&!h)return(0,v.jsx)(j,{hideToast:e,pinId:n.id,boardId:n.board.id,originalPinId:_});let{thumbnail:r}=b(l.id);return t&&!u.Z.getItem("saveAppUpsellViewed")?(u.Z.setItem("saveAppUpsellViewed",!0),(0,v.jsx)(p.Z,{children:(0,v.jsx)(a.mh,{children:(0,v.jsx)(o.oz,{children:t=>(0,v.jsx)(f,{board:l,copyGroup:i,hideToast:e,i18n:t,isNativeAppInstalledContext:this.isNativeAppInstalledContext,section:this.section})})})})):(0,v.jsx)(y.Z,{button:(0,v.jsx)(o.oz,{children:e=>(0,v.jsx)(a.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();let{onUndo:i}=this;if(i&&!h){var s;i(this.pinId,n.id,l.id,null===(s=this.section)||void 0===s?void 0:s.id,e)}else h&&this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${l.id}&&isFromToast=true&&originalPinId=${null!=_?_:""}`)},text:h?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}),href:this.section?`${l.url}${null!==(s=this.section.slug)&&void 0!==s?s:""}`:l.url,isRepinToExistingBoard:!0,onHide:e,text:(0,v.jsx)(T,{board:l,section:this.section}),thumbnail:r})}),this.dispatch((0,r.fO)({event_type:5})),e(this.trackingData),n})}}},700453:(e,t,i)=>{i.d(t,{B:()=>h,Z:()=>m});var s=i(667294),n=i(616550),a=i(40660),l=i(388011),r=i(788241),o=i(988014),d=i(98736),c=i(618569),p=i(799006),u=i(951599),_=i(785893);let h=e=>"/"===e.pathname?"/":(0,o.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function m({children:e,componentType:t,within:i}){let o=(0,n.useLocation)(),{flushContextEvents:m,logContextEvent:v}=(0,l.v)(),{viewType:g,viewParameter:f}=(0,r.SU)(),x=(0,c.Z)();(0,s.useEffect)(()=>{x({action:"view",item:"download-button",within:i})},[o,i,x]);let y=(0,s.useRef)(!1);(0,s.useEffect)(()=>{g&&202!==g?(v({component:t||13106,element:10308,event_type:9976,view_type:g,view_parameter:f,aux_data:{app_upsell_type:i,app_upsell_is_dupe:y.current}}),y.current=!0):a.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:g,view_parameter:f,app_upsell_type:i,app_upsell_is_dupe:y.current})},[t,v,f,g,i]);let w=(0,p.Z)();return(0,s.useEffect)(()=>{w||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${i}`)},[w,i]),(0,_.jsx)(u.Z,{children:s=>e({handleOpenApp:e=>{if(x({action:"click",item:"download-button",within:i}),(0,d.NC)("press_open_app",!0),v({component:t||13106,element:10308,event_type:102,view_type:g||202,view_parameter:f,aux_data:{app_upsell_type:i}}),v({component:t||13106,element:10308,event_type:9977,view_type:g||202,view_parameter:f,aux_data:{app_upsell_type:i}}),m(!0),s){var n;v({component:t||13106,element:10308,event_type:1701,view_type:g||202,view_parameter:f,aux_data:{app_upsell_type:i}}),s(null!==(n=null==e?void 0:e.deepLinkUri)&&void 0!==n?n:h(o),i)}}})})}},799006:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(702664);let n=()=>(0,s.useSelector)(({session:{canUseNativeApp:e}})=>e)},726425:(e,t,i)=>{i.d(t,{N:()=>o,h:()=>d});var s=i(667294),n=i(865173),a=i(583592),l=i(785893);let{Provider:r,useHook:o}=(0,a.Z)("NativeAppInstalled");function d({children:e}){let[t,i]=(0,s.useState)(!1),a=(0,s.useCallback)(e=>{i(e)},[]);(0,s.useEffect)(()=>{!async function(){let e=await (0,n.Z)();e.length>0&&i(!0)}()},[]);let o=(0,s.useMemo)(()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:a}),[t,a]);return(0,l.jsx)(r,{value:o,children:e})}},348597:(e,t,i)=>{i.d(t,{Z:()=>s});function s(e,t){return e||`${t||""}~0`}},352865:(e,t,i)=>{i.d(t,{G3:()=>c,Rp:()=>d,kp:()=>r});var s=i(736409),n=i(611756),a=i(173085);let l=14*s.F4,r=e=>{let t=function(){let e=Date.now(),t=Number((0,n.qn)("appUpsell")),i=Number((0,n.qn)("firstUpsellTime")),s=!!(0,a.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:i,lastUpsellTime:t,showedAppUpsellCurrentSession:s}}();return e?function(e,t,i){let{currentTime:s,firstUpsellTime:a,lastUpsellTime:r,showedAppUpsellCurrentSession:o}=e;return(i=i||l,!a||s<a+t)?!o:s-r>i&&((0,n.L_)("firstUpsellTime"),!0)}(t,s.F4):function(e,t){let{currentTime:i,lastUpsellTime:s}=e;return t=t||l,!s||i-s>t}(t)},o=e=>{e=e.toLowerCase();let t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},d=({isBot:e,platform:t,userAgent:i})=>{try{return!e&&"android"===t&&7>parseFloat(o(i))}catch(e){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},185803:(e,t,i)=>{i.d(t,{Z:()=>_});var s=i(40660),n=i(865173),a=i(739425);let l="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],o=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,d=(e,t,i)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?o(e,i):"ios"===t||"ipad"===t?o(e.iOS,i):"android"===t?o(e.android,i):null},c=({deeplinkUri:e,invite_code:t,platform:i,fallbackUrl:s,unauthId:n})=>({deeplink_path:d(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:n,utm_source:140,utm_medium:2152,...s?{af_r:s}:null}),p=({deeplinkUri:e,invite_code:t,platform:i,unauthId:s})=>{let n=JSON.stringify({deeplink_path:d(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:s}),l=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:n});return{referrer:l}},u=({unauthId:e})=>{let t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}},_=({isAuthenticated:e,checkExperiment:t,deeplinkUri:i,fallbackUrl:r,invite_code:o,logContextEvent:d,platform:_,redirectToLite:h,unauthId:m,userAgent:v,within:g})=>{null==d||d({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});let f="https://pinterest.onelink.me/TVSr/21e04bfd",x=null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group;switch(x){case"enabled_1":f="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":f="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":f="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":f="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":f="https://pinterest.onelink.me/TVSr/elsthgd7"}if(i){let t=c({isAuthenticated:e,deeplinkUri:i,fallbackUrl:r,invite_code:o,platform:_,unauthId:m,userAgent:v});if(s.Z.increment("mweb.deeplink",1,{platform:_}),o&&s.Z.increment("mweb.deeplink.invite_code",1),s.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:!!m}),h){s.Z.increment("mweb.deeplink.lite_link",1),null==d||d({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});let e=u({unauthId:m});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===_){let e=p({deeplinkUri:i,invite_code:o,platform:_,unauthId:m});(0,n.v)()?(0,n.Z)().then(i=>{if(i.length>0){let e=(0,a.ru)(window.location.href,t);window.open(e)}else null==d||d({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,a.ru)(l,e)}).catch(()=>{s.Z.increment("mweb_android.deeplink.playStore.error",1)}):(null==d||d({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,a.ru)(l,e))}else{if(s.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===_&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",t);return}null==d||d({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,a.ru)(f,t)}}}},383755:(e,t,i)=>{i.d(t,{Hn:()=>p,Jw:()=>m,L7:()=>s,Qc:()=>n,Tt:()=>g,UF:()=>d,UV:()=>l,W1:()=>a,Ws:()=>u,ZW:()=>o,cK:()=>v,cy:()=>h,o4:()=>_,tr:()=>c,vF:()=>r});let s=1,n=2,a="female",l="male",r="unspecified",o="en-US",d="US",c=3,p="has_done_closeup",u="Gender",_="InterestPicker",h="LoadingStep",m="AppInstall",v={NUX_GENDER_STEP_NAME:u,NUX_INTEREST_PICKER_STEP_NAME:_,NUX_LOADING_STEP_NAME:h,NUX_APP_INSTALL_STEP_NAME:m},g=2500},28557:(e,t,i)=>{i.d(t,{Z:()=>j});var s=i(667294),n=i(376030),a=i(883119),l=i(536042),r=i(455788),o=i(272109),d=i(874261),c=i(785893);let p=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function u({addedStyles:e,button:t,headerText:i,icon:n,iconOverride:l,minHeight:r,subHeaderText:o}){return(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:r||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=l||(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:p}),(0,c.jsx)(a.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(a.JO,{accessibilityLabel:n.accessibilityLabel,color:n.color,dangerouslySetSvgPath:n.dangerouslySetSvgPath,icon:n.icon,inline:n.inline,size:n.size})})]});return(0,c.jsx)(a.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(a.xu,{marginEnd:"auto",children:[(0,c.jsx)(a.xv,{color:"default",weight:"bold",children:i}),!!o&&(0,c.jsx)(a.xu,{paddingY:1,children:(0,c.jsx)(a.xv,{size:"300",color:"default",children:o})})]}),(0,c.jsx)(a.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var _=i(217861);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let m="cubicBezier(0.25, 0.1, 0.25, 1)",v="encourageToastIconContainer",g="encourageToastIconRadiateBg",f="encourageToastIconRadiateRing",x={targets:`#${v}`,duration:300,scale:1.4,easing:m},y={targets:`#${v}`,duration:300,scale:1,easing:m,endDelay:1e3},w={targets:`#${v}`,duration:300,scale:.42,easing:m},b={targets:`#${g}`,duration:400,opacity:0,scale:1.6,easing:m},P={targets:`#${f}`,duration:650,opacity:0,scale:2,easing:m};class A extends s.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,n.Z)(b),(0,n.Z)(P),(0,n.Z)(x).finished.then(()=>{(0,n.Z)(y).finished.then(()=>{n.Z.set(`#${v}`,{transformOrigin:"top right"}),(0,n.Z)(w)})})})}),h(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),h(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),h(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),h(this,"renderAnimatedIcon",()=>(0,c.jsxs)(a.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},children:this.props.thumbnail}),(0,c.jsxs)(a.xu,{id:v,height:68,width:68,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(a.xu,{color:"infoBase",id:g,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}}}),(0,c.jsx)(a.xu,{id:f,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}}}),(0,c.jsx)(a.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(u,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function j(e){let{duration:t,onHide:i}=e,n=(0,l.ZP)(),[d,p]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),m=(0,s.useRef)(),v=()=>{p(!0),m.current=setTimeout(i,200)},g=()=>{m.current&&clearTimeout(m.current)},f=()=>{m.current=setTimeout(v,t||_.w)};(0,o.Z)(()=>(setTimeout(()=>h(!0),100),f(),g));let x=(0,c.jsx)(A,{...e,i18n:n});return e.href&&(x=(0,c.jsx)(a.rU,{href:e.href,onClick:v,rounding:"pill",tapStyle:"none",children:x})),(0,c.jsx)(r.Z,{children:(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:u})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:_.k,children:x})})})}},922204:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(702664),n=i(63262),a=i(383755),l=i(260070);function r(){let e=(0,s.useDispatch)(),{showToast:t,showOneToast:i}=(0,n.F9)();return{showToast:t,showOneToast:i,showRepinConfirmation:(i,s)=>{s||e((0,l.WF)()),setTimeout(()=>{s||e((0,l.a5)()),t(i)},a.Tt)}}}},86829:(e,t,i)=>{i.d(t,{a:()=>s,k:()=>n});let s=e=>({type:"ONE_TAP_SAVE",payload:e}),n=e=>({type:"ONE_TAP_UNSAVE",payload:e})},540459:(e,t,i)=>{i.d(t,{L:()=>r,q:()=>d});var s=i(690108),n=i(911767),a=i(541268),l=i(274796);function r(e){return t=>{let{inSelectAll:i,selectedPinIds:r,orbacSubjectId:o,source:{boardId:d,sectionId:c}}=e;return t((0,n.xQ)(d)),t((0,a.EX)({feedId:c||d,feedType:c?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,inverseSelection:i,itemIds:r,itemType:"pin"})),s.Z.create(i?"BulkEditSelectAllResource":"BulkEditResource",{board_id:d,section_id:c,pin_ids:r,orbac_subject_id:o}).callDelete()}}let o=(e,t,i,s)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:i,userId:s}}),d=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:n})=>(a,l)=>{let r=s.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:d}}=l();return a(o(e,t,i,d)),r}},77875:(e,t,i)=>{i.d(t,{w:()=>r});var s=i(994405),n=i(541268),a=i(266732),l=i(648609);let r=({pinId:e,boardId:t,checkExperiment:i,isNativeAppInstalledContext:r,i18n:o,isQuickSave:d,logContextEvent:c,onSuccess:p,onUndo:u,originalPinId:_,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:m,showToast:v,section:g,trackingParams:f,isOneTapSave:x,viewType:y,historyPush:w,suggestedBoardIds:b,savePinId:P})=>(A,j)=>{var I,k,S,T,z,R,Z,C,N;let{pins:B,session:O,feeds:U}=j(),E=B[e];t&&((null===(I=null!==(k=null==E?void 0:E.shopping_flags)&&void 0!==k?k:[])||void 0===I?void 0:I.length)>0||null!=E&&E.rich_summary&&(null===(S=null!==(T=null==E?void 0:null===(z=E.rich_summary)||void 0===z?void 0:z.products)&&void 0!==T?T:[])||void 0===S?void 0:S.length)>0)&&(U[`board-shop-saved-preview:${t}`]&&A((0,n.Qv)(`board-shop-saved-preview:${t}`,[E],{isPrepend:!0})),U[`board-shop-saved:${t}`]&&A((0,n.Qv)(`board-shop-saved:${t}`,[E],{isPrepend:!0})));let L=new a.Z({boardId:t,checkExperiment:i,isNativeAppInstalledContext:r,dispatch:A,i18n:o,isLegoSaveStyle:!0,isOneTapSave:x,isQuickSave:d,onSuccess:p,onUndo:u,originalPinId:_,pinId:E.id,section:g,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>m?m(e):v?v(e):void 0,trackingParams:f,userId:O.userId,viewType:y,historyPush:w,suggestedBoardIds:b,savePinId:P,pinData:{trackingParams:E.tracking_params,viewParameter:(0,l.A)({hasRichMetadata:!!E.rich_metadata,hasRichMetadataProducts:!!(null!==(R=E.rich_metadata)&&void 0!==R&&R.products),hasRichMetadataArticle:!!(null!==(Z=E.rich_metadata)&&void 0!==Z&&Z.article),hasRichMetadataRecipe:!!(null!==(C=E.rich_metadata)&&void 0!==C&&C.recipe)}),pinnedToBoardId:null===(N=E.pinned_to_board)||void 0===N?void 0:N.id}});return(0,s.ib)({checkExperiment:i,isAuthMweb:O.isAuthenticated&&(O.isMobile||O.isTablet)}),L.processRepin(c)}},648609:(e,t,i)=>{i.d(t,{A:()=>s});let s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:s})=>e?t?144:i?141:s?145:139:140},217861:(e,t,i)=>{i.d(t,{k:()=>l,w:()=>a});var s=i(883119),n=i(360675);let a=2e3,l=new s.H3([n.Z])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/82506-dc6afc6554b16a85.mjs.map